arrowup=new Image;arrowup_blink=new Image;arrowdown=new Image;arrowdown_blink=new Image;resetr=new Image;resetr_blink=new Image;arrowup.src="http://www.energylabs.com.br/el/images/wgen/up_arrow.png";arrowup_blink.src="http://www.energylabs.com.br/el/images/wgen/up_arrowbright.png";arrowdown.src="http://www.energylabs.com.br/el/images/wgen/down_arrow.png";arrowdown_blink.src="http://www.energylabs.com.br/el/images/wgen/down_arrowbright.png";resetr.src="http://www.energylabs.com.br/el/images/wgen/resetr.png";resetr_blink.src="http://www.energylabs.com.br/el/images/wgen/resetr_bright.png";periodpi=new Image;periodp_blink=new Image;periodp_clicked=new Image;periodni=new Image;periodn_blink=new Image;periodn_clicked=new Image;scrollpi=new Image;scrollp_blink=new Image;scrollp_clicked=new Image;scrollni=new Image;scrolln_blink=new Image;scrolln_clicked=new Image;reseti=new Image;reset_blink=new Image;reset_clicked=new Image;sinei=new Image;sine_blink=new Image;sine_clicked=new Image;squarei=new Image;square_blink=new Image;square_clicked=new Image;periodpi.src="http://www.energylabs.com.br/el/images/wgen/periodp.png";periodp_blink.src="http://www.energylabs.com.br/el/images/wgen/periodp_blink.png";periodp_clicked.src="http://www.energylabs.com.br/el/images/wgen/periodp_clicked.png";periodni.src="http://www.energylabs.com.br/el/images/wgen/periodn.png";periodn_blink.src="http://www.energylabs.com.br/el/images/wgen/periodn_blink.png";periodn_clicked.src="http://www.energylabs.com.br/el/images/wgen/periodn_clicked.png";scrollpi.src="http://www.energylabs.com.br/el/images/wgen/scrollp.png";scrollp_blink.src="http://www.energylabs.com.br/el/images/wgen/scrollp_blink.png";scrollp_clicked.src="http://www.energylabs.com.br/el/images/wgen/scrollp_clicked.png";scrollni.src="http://www.energylabs.com.br/el/images/wgen/scrolln.png";scrolln_blink.src="http://www.energylabs.com.br/el/images/wgen/scrolln_blink.png";scrolln_clicked.src="http://www.energylabs.com.br/el/images/wgen/scrolln_clicked.png";reseti.src="http://www.energylabs.com.br/el/images/wgen/reset.png";reset_blink.src="http://www.energylabs.com.br/el/images/wgen/reset_blink.png";reset_clicked.src="http://www.energylabs.com.br/el/images/wgen/reset_clicked.png";sinei.src="http://www.energylabs.com.br/el/images/wgen/sine.png";sine_blink.src="http://www.energylabs.com.br/el/images/wgen/sine_blink.png";sine_clicked.src="http://www.energylabs.com.br/el/images/wgen/sine_clicked.png";squarei.src="http://www.energylabs.com.br/el/images/wgen/square.png";square_blink.src="http://www.energylabs.com.br/el/images/wgen/square_blink.png";square_clicked.src="http://www.energylabs.com.br/el/images/wgen/square_clicked.png";ovlay=new Image;ovlay.src="http://www.energylabs.com.br/el/images/wgen/overlay.png";var widthbg=510;var heightbg=410;var scale=50;var scaleb=50;var border=5;var period=32;var scrol=0;var show=-1;harmonics=new Array(12);var i;for(i=0;i<12;i++){harmonics[i]=0;}harmonics[i]=100;function periodup(){period*=1.1;scrol*=1.1;draw();}function perioddown(){if(period!=2)period/=1.1;scrol/=1.1;draw();}function ampup(i){harmonics[i]+=5;draw();}function changeharmonic(order){harmonics[order]=document.getElementById('harmonic'+(order+1)).value;draw();}function ampdown(i){harmonics[i]-=5;draw();}function makesquare(){var i;for(i=0;i<12;i+=1){harmonics[i]=0;}for(i=0;i<12;i+=2){harmonics[i]=100/(i+1);}draw();}function makesine(){var i;for(i=0;i<12;i+=1){harmonics[i]=0;}harmonics[0]=100;draw();}function clearCanvas(context,canvas){context.clearRect(0,0,canvas.widthbg,canvas.heightbg);var w=canvas.widthbg;canvas.widthbg=1;canvas.widthbg=w;}function draw(){var canvas=document.getElementById("canvas");var ctx=canvas.getContext("2d");clearCanvas(ctx,canvas);ctx.shadowOffsetX=15;ctx.shadowOffsetY=15;ctx.shadowBlur=15;ctx.shadowColor="rgba(128,128,128,0.5)";ctx.fillStyle='#000000';ctx.fillRect(0,0,widthbg,heightbg);ctx.shadowOffsetX=0;ctx.shadowOffsetY=0;ctx.shadowBlur=0;ctx.shadowColor="transparent";ctx.beginPath();ctx.lineWidth=border;ctx.strokeStyle='#EEEEEE';ctx.moveTo(border-3,border-3);ctx.lineTo(border-3,heightbg);ctx.lineTo(widthbg,heightbg);ctx.lineTo(widthbg,border-3);ctx.lineTo(border-3,border-3);ctx.stroke();ctx.closePath();ctx.beginPath();ctx.strokeStyle='#009900';ctx.lineWidth=1;ctx.drawImage(ovlay,8,heightbg-17,ovlay.widthbg,ovlay.heightbg);var i=0;while(i!=Math.round((widthbg-border*2)/scale)){ctx.moveTo((i*scale)+border,border);ctx.lineTo((i*scale)+border,heightbg-border);i++;}i=0;while(i!=Math.round((heightbg-border*2)/scale)){ctx.moveTo(border,(i*scale)+border);ctx.lineTo(widthbg-border,(i*scale)+border);i++;}ctx.stroke();ctx.closePath();ctx.beginPath();ctx.strokeStyle='#FFFF00';ctx.lineWidth=2;var x=border;while(x<(widthbg-border*2)+10&&show>-1){var amp;amp=Math.sin(((x+scrol)/period)*(show+1))*harmonics[show];ctx.lineTo(x,(Math.round(amp)+204));x++;}ctx.stroke();ctx.closePath();ctx.beginPath();ctx.strokeStyle='#FFFFFF';ctx.lineWidth=2;var x=border;while(x<(widthbg-border*2)+10){var amp=0;for(i=0;i<12;i++){amp+=Math.sin(((x+scrol)/period)*(i+1))*harmonics[i];}ctx.lineTo(x,(Math.round(amp)+204));x++;}for(i=0;i<12;i++){document.getElementById('harmonic'+(i+1)).value=harmonics[i];}ctx.stroke();ctx.closePath();}
